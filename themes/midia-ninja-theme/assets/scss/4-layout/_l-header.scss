@import "./../1-settings/_s-variables";
@import "./../2-atoms/a-mixins";

header {
	&.main-header {
		position: sticky;
		left: 0%;
		top: 0;
		z-index: 999;
		width: 100%;
		transition: all 0.5s;
		background-color: var(--header-background-color);

		.logged-in & {
			top: 32px;

			&.scrolled {
				top: 32px;
			}

			@include mobile {
				top: 0;
			}
		}

		&.active {
			transition: all 0.5s;
			min-height: 100vh;
		}

		&.scrolled {
			transition: all 0.5s;
			top: 0;
		}

		.header-content {
			display: grid;
			align-items: center;
			min-height: 100px;
			padding-top: 21px;

			.logo {
				grid-area: 1/1/1/4;
				justify-self: center;
				img {
					height: auto;
					width: auto;
				}
			}
		}
	}
	.header-content {
		button.toggle-menu {
			appearance: none;
			border: 0px;
			outline: none;
			background: none;
			position: relative;
			width: 32px;
			height: 32px;
			display: none;

			&:before,
			&:after {
				content: "";
				display: block;
				width: 21px;
				height: 2px;
				background-color: var(--c-gray--darker);
				position: absolute;
				top: 13px;
				transition: all 0.4s;
			}

			&:after {
				top: 19.3px;
			}

			&.active {
				justify-self: flex-end;
				&:before,
				&:after {
					background-color: var(--c-gray--darker);
				}
				&:before {
					top: 16px;
					transform: rotate(-45deg);
					transition: all 0.2s;
				}

				&:after {
					top: 16px;
					transform: rotate(45deg);
					transition: all 0.2s;
				}
			}
		}

		.menus {
			grid-area: 2 / 1 / 2 / 4;
			display: flex;
			margin-top: 6px;
			width: 100%;
			justify-self: center;
			overflow: auto;

			i.fa-angle-down,
			i.fa-angle-up {
				font-size: 15px;
				margin-left: 10px;

				&:not(.up) {
					&::before {
						content: url($p_theme_assets + "/images/arrow-down.svg") !important;
						transition: opacity 0.2s ease;

						@include tablet {
							opacity: 1;
						}
					}
				}

				&.up {
					&::before {
						content: url($p_theme_assets + "/images/arrow-up.svg") !important;
						opacity: 1;
						transition: opacity 0.2s ease;
					}
				}
			}

			.primary-menu {
				margin: auto;

				.fa,
				.fas {
					color: var(--c-gray--darker) !important;
					margin-right: 0;
					width: auto;
					display: none;
				}

				@media (max-width: $desktop-width) {
					margin-right: 0;
				}

				ul.menu {
					padding-left: 0;

					> li {
						position: relative;
						text-transform: uppercase;
						font-size: 1.8rem;
						font-weight: bold;

						@media (min-width: 1025px) and (max-width: 1199px) {
							font-size: 1.6rem;
						}

						&:not(.menu-item-has-children) {
							@media (max-width: $desktop-width) {
								margin-bottom: 10px;
							}
						}

						&.menu-item-has-children {
							@media (min-width: 1025px) and (max-width: 1199px) {
								padding-right: 0;
							}

							&:after {
								@media (max-width: $desktop-width) {
									display: none;
								}
							}
							.sub-menu {
								background-color: var(--header-background-color);
								border-left: 0px;
								padding: 10px 0px 10px 0px;
								box-shadow: 0px 3px 5px 0px rgba(#000000, 0.3);
								z-index: 5;

								@media (max-width: $desktop-width) {
									margin-top: 15px;
									padding-top: 0;
								}

								@media (max-width: $desktop-width) {
									box-shadow: none;
								}

								> li {
									background-color: var(--header-background-color);
									padding: 5px 15px 5px 15px;
									margin-right: 0;
									font-size: 80%;
									width: fit-content;

									@media (max-width: $desktop-width) {
										background-color: transparent;
										border-left: 2px solid #035299;
									}

									a {
										@include desktop {
											display: block;
											width: 100%;
										}
									}
								}
							}
						}
					}

					li:nth-child(n + 4) {
						display: none;

						@media (min-width: $tablet-width) {
							display: block;
						}
					}

					li.mais {
						display: block;

						@media (min-width: $tablet-width) {
							display: none;
						}
					}
				}

				@include mobile {
					margin: 0;
				}
			}
		}

		&.active {
			background-color: var(--header-background-color);
			display: grid;
			grid-template-columns: 164px 32px;
			grid-template-rows: 78px auto;
			grid-template-areas:
				"a b"
				"c c";
			.menus {
				display: flex;
				flex-direction: column;
				grid-area: c;

				.primary-menu {
					ul {
						flex-direction: column;
						margin-left: 0;
						padding-left: 0;

						li {
							font-size: 24px;
							line-height: 2;

							@media (max-width: $desktop-width) {
								font-size: 16px;
								line-height: 1.5;
							}
						}
					}

					ul.sub-menu {
						padding-left: 20px;
					}
				}
			}
		}

		.search-component {
			grid-area: 1/2/1/4;
			width: fit-content;

			@media (min-width: $tablet-width) {
				grid-area: 1 / 3 / 1 / 4;
			}
		}

		.hamburguer {
			grid-area: 1/1/1/4;
			width: fit-content;

			@media (min-width: $tablet-width) {
				grid-area: 1/3/1/4;
			}

			.nav-container {
				display: block;
				position: relative;
				height: 60px;

				li {
					list-style: none;
					border-bottom: 1px solid #fff;
				}

				a {
					color: #fff;
					/* <h4> Manrope Extrabold 24 */
					font-family: Manrope;
					font-size: 24px;
					font-style: normal;
					font-weight: 800;
					line-height: 120%; /* 28.8px */
					letter-spacing: -0.48px;

					&:hover {
						font-weight: bolder;
					}
				}

				.checkbox {
					position: absolute;
					display: block;
					height: 32px;
					width: 32px;
					top: 20px;
					left: 3rem;
					z-index: 5;
					opacity: 0;
					cursor: pointer;
				}

				.hamburger-lines {
					display: block;
					height: 26px;
					width: 32px;
					position: absolute;
					top: 17px;
					left: 3rem;
					z-index: 2;
					display: flex;
					flex-direction: column;
					justify-content: space-between;

					.line {
						display: block;
						height: 4px;
						width: 100%;
						border-radius: 10px;
						background: #000;
					}

					.line1 {
						transform-origin: 0% 0%;
						transition: transform 0.4s ease-in-out;
					}

					.line2 {
						transition: transform 0.2s ease-in-out;
					}

					.line3 {
						transform-origin: 0% 100%;
						transition: transform 0.4s ease-in-out;
					}
				}
			}

			.menu-items {
				padding: 115px 24px 0;
				background-color: rgba(51, 51, 51, 1);
				height: 100vh;
				width: 100vw;
				display: flex;
				flex-direction: column;
				margin-left: -30px;
				margin-top: -30px;
				visibility: hidden;
				position: absolute;
				transition: visibility 0s linear;
				overflow: auto;

				@media (min-width: $tablet-width) {
					width: 100%;
					height: auto;
				}

				ul {
					flex-direction: column;
					padding: 0;

					li {
						font-size: 1.5rem;
						font-weight: 500;
						margin: 0 0 1.2rem;

						&.menu-item-has-children i::after {
							content: url($p_theme_assets + "/images/menu-plus-white.svg");
							float: right;
						}

						&.menu-item-has-children:hover {
							.sub-menu {
								display: grid;
								position: relative;
							}
						}

						.sub-menu {
							border: none;
							grid-template-columns: 1fr 1fr;

							li {
								display: grid;
								place-content: center;
								padding: 21px;
								margin: 0;

								a {
									font-size: 14px;
								}

								&:nth-child(odd) {
									border-right: 1px solid #fff;
								}
							}
						}
					}
				}

				.social-menu {
					color: #fff;
					flex-wrap: wrap;
					justify-content: center;
					margin-top: 200px;

					p {
						display: block;
					}

					> div {
						display: flex;
					}
				}

				.search-component {
					margin: 0 auto;
					width: 100%;

					form div {
						input[type="submit"] {
							width: 32px;
							height: 32px;
							background-position: 6px 9px;
							background-image: url("/wp-content/themes/midia-ninja-theme/assets/images/search-icon-white.svg");
							background-position: -5px;
							background-size: auto;
							border-radius: 0;
						}

						input[type="text"] {
							border-radius: 8px;
							border: 2px solid #fff;
							width: 100%;
						}
					}
				}
			}

			.nav-container {
				//input[type="checkbox"]:checked ~ .menu-items,
				input.checked ~ .menu-items {
					visibility: visible;
					width: 360px;
					height: 846px;
					left: -13rem;
				}

				//input[type="checkbox"]:checked ~ .hamburger-lines .line1,
				input.checked ~ .hamburger-lines .line1 {
					transform: rotate(45deg);
					background: white;
				}

				//input[type="checkbox"]:checked ~ .hamburger-lines .line2,
				input.checked ~ .hamburger-lines .line2 {
					transform: scaleY(0);
				}

				//input[type="checkbox"]:checked ~ .hamburger-lines .line3,
				input.checked ~ .hamburger-lines .line3 {
					transform: rotate(-45deg);
					background: white;
				}
			}
		}

		@import "./../3-components/c-wpml-language-menu";
		@import "./../3-components/c-social-menu";
		@import "./../3-components/c-search";
		@extend .base-menu-component;
	}
}
